<div class="fixed z-50 inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center p-4">
  <div class="p-4 bg-white rounded-xl" [formGroup]="asignarForm">
    <h2 class="mb-4 text-xl font-semibold text-center lg:text-2xl font-poppins text-[#FA7D00]">Asignar aliado</h2>
    <div class="font-poppins">
      <h4 class="h-auto mb-0 overflow-hidden text-ellipsis"><strong class="text-blue-400 font-poppins">Titulo</strong>
      </h4>
      <p>{{ data.Nombre_sol }}</p>
      <div class="block w-full h-auto mb-0 overflow-hidden text-gray-900 resize-none focus:outline-none text-ellipsis"
        title="{{ data.notas }}"><strong class="text-blue-400">Notas</strong></div>
      <p>{{ data.notas }}</p>
      <p class="mb-0 text-sm text-gray-700"><strong class="text-blue-400 font-poppins">Fecha de solicitud</strong></p>
      <p>{{ data.fecha }}</p>
      <p class="mb-0 text-gray-700"><strong class="text-blue-400 font-poppins">Emprendedor</strong></p>
      <p>{{ data.nombres }}</p>
      <p *ngIf="data.aliado_redirigido" class="mb-2 text-sm text-gray-900"><strong
          class="text-blue-400 font-poppins">Aliado:
        </strong>{{ data.aliado_redirigido }}</p>
    </div>

    <div *ngIf="!data.aliado_redirigido" class="justify-start w-full pb-2 mt-4 rounded-xl font-poppins"
      id="nomAliadoContainer">
      <label class="mb-2 font-bold text-blue-400">Con quien quiere la asesoria?</label>
      <select formControlName="nom_aliado"
        class="w-full px-2 py-2 bg-gray-200 border rounded-md appearance-none focus:outline-none focus:ring-2 focus:ring-blue-200">
        <option value="" disabled selected hidden>Seleccione</option>
        <option *ngFor="let aliado of aliados" [value]="aliado.nombre">{{ aliado.nombre }}</option>
      </select>
    </div>

    <div class="flex flex-col justify-center mt-4 space-y-2 md:flex-row md:space-y-0 md:space-x-2 font-poppins">
      <button type="button" (click)="onCancel()"
        class="w-full px-4 py-2 text-white bg-gray-500 rounded md:w-auto">Cancelar</button>
      <button *ngIf="!data.aliado_redirigido" mat-button
        class="w-full px-4 py-2 text-white rounded md:w-auto bg-[#FA7D00]" type="submit" (click)="onGuardar()"
        [disabled]="isSubmitting || asignarForm.invalid"><span *ngIf="!isSubmitting">Guardar</span>
        <span *ngIf="isSubmitting" class="flex items-center">
          <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none"
            viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor"
              d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
            </path>
          </svg>
          Guardando...
        </span>
      </button>
    </div>
  </div>
</div>